<%# locals: (metrics:) %>

<% cache_if(metrics.cacheable?, metrics.cache_key) do %>
  <h4 class="h3">Metrics</h4>

  <table
    class="
      -my-2
      border-separate border-spacing-y-2
      text-left
    "
  >
    <tbody>
      <%= yield %>

      <tr>
        <th>Clicks</th>
        <td><%= metrics.clicks_count %></td>
      </tr>
      <tr class="*:pl-6">
        <th>
          <%= render("tooltip", text: "Reveals") %>
        </th>
        <td><%= metrics.reveals_count %></td>
      </tr>
      <tr class="*:pl-6">
        <th>
          <%= render("tooltip", text: "Chords") %>
        </th>
        <td><%= metrics.chords_count %></td>
      </tr>
      <tr class="*:pl-6">
        <th>Flags Placed</th>
        <td><%= metrics.flags_count %></td>
      </tr>
      <tr class="*:pl-6">
        <th>Flags Removed</th>
        <td><%= metrics.unflags_count %></td>
      </tr>
    </tbody>
  </table>
<% end %>
