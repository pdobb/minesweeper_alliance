<table class="mx-auto table-fixed select-none">
  <tbody
    <% if @game.in_progress? %>
      data-controller="board"
      data-action="
        click->board#reveal
        contextmenu->board#toggleFlag:prevent
        dblclick->board#revealNeighbors
      "
      data-board-id-value="<%= @game.board_id %>"
    <% end %>
    class="
      <%# Cells %>
      *:*:size-8 *:*:min-w-8 *:*:min-h-8
      *:*:border *:*:border-slate-600
      *:*:text-center
      <% if @game.in_progress? %>
        data-[revealed=false]:*:*:cursor-cell
        data-[revealed=true]:*:*:cursor-default
      <% else %>
        *:*:cursor-default
      <% end %>
    "
  >
    <% @game.board_rows.each do |row| %>
      <tr>
        <% row.each do |cell| %>
          <td
            data-id="<%= cell.id %>"
            data-revealed="<%= cell.revealed? %>"
            class="<%= class_names(cell.css_class) %>"
          >
            <%= cell.render %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
